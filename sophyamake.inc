# -----------------------------------------------
#  File make.inc - generated by SOPHYA configure
#  Date Wed Oct 12 17:55:16 CEST 2016
#  Seed file : Darwin_g++_make.inc 
# -----------------------------------------------
 
# SOPHYA Base installation directory 
SOPHYABASE = /usr/local/Sophya
 
SOPHYAINCP = $(SOPHYABASE)/include/
SOPHYAOBJP = $(SOPHYABASE)/obj/
SOPHYALIBP = $(SOPHYABASE)/lib/
SOPHYASLBP = $(SOPHYABASE)/slb/
SOPHYAEXEP = $(SOPHYABASE)/exe/
 
# module libraries  
SOPMODLIBLIST = -lBaseTools -lSysTools -lSUtils -lTArray -lNTools -lHiStats -lSkyMap -lSamba -lSkyT -lLUC
 
# External libraries PATH  
SOPEXTLIBP = -L/usr/local/Sophya/ExtLibs/lib
SOPEXTLIBLIST = -lcfitsio -lfftw3 -lfftw3f -lfftw3_threads -lfftw3f_threads -lxastro
 
# PI libraries  
SOPPILIBLIST = -lPI -lPIext -lPIGcont
PIEXTINC = -I/opt/local/include
PIEXTLIB = -L/opt/local/lib -lXm -lreadline -lhistory -lcurses 
 
# --------- File Darwin_g++_make.inc -------- 

#  Liste des librariries externes 
SOPEXTLIBS = $(SOPEXTLIBP) $(SOPEXTLIBLIST) -framework Accelerate

#  Chemin et librairie pour PI 
PIINC = $(PIEXTINC) -I/usr/X11R6/include/
PILIBS = $(PIEXTLIB) -L/usr/X11R6/lib/ -lXt -lX11 


#  Flag preprocesseur
CPPFLAGS = -DDarwin -I$(SOPHYAINCP)  $(PIINC)
#  Def compilateur C et flags
CC = gcc
# Replace [CNFPHFLF] by specific compilation flags below (done by configure)
CFLAGS = -fno-common -g -O -fPIC   
#  With optimization flags 
#  CFLAGS = -fno-common -g -fastf -mtune=G5 -fPIC
#  Def compilateur C++ et flags
CXX =  g++
CXXFLAGS = -fno-common -g -O -fPIC    
# CXXFLAGS = -fno-common -g -fastf -mtune=G5 -fPIC 
# flags specifiques pour templates repository...
CXXTEMPFLG =
#  Compilo fortran
FC = gfortran
FFLAGS =  
# Pour fabriquer les lib .a
AR = libtool 
ARFLAGS = -static -o 


#  Ordres de compilation
CCOMPILE = $(CC) $(CPPFLAGS) $(CFLAGS) -c 
CXXCOMPILE = $(CXX) $(CPPFLAGS) $(CXXFLAGS) -c 
FCCOMPILE = $(FC) $(FFLAGS) -c 

#  Extension de nom pour les librairies partagees
SLEXT = dylib
#  Fabrication de librairies partagees 
CMDSHLCXX = $(CXX) $(CXXFLAGS) $(CXXTEMPFLG) -dynamiclib 


#  Liste de librairie de base, necessaire pour libsophya
SOPBASELIBS = -lpthread -lm -lc -ldl 
LIBFORT = 

# --- Chemin pour l ensemble les librairies SOPHYA , +ExtLibs, +PI
SOPHYALIBLIST = -L$(SOPHYALIBP) $(SOPMODLIBLIST)  $(SOPBASELIBS)
SOPHYAEXTLIBLIST = -L$(SOPHYALIBP) $(SOPMODLIBLIST) $(SOPEXTLIBS) $(SOPBASELIBS)
SOPHYAALLLIBLIST = -L$(SOPHYALIBP) $(SOPMODLIBLIST) $(SOPPILIBLIST) $(PILIBS) $(SOPEXTLIBS) $(SOPBASELIBS)

SOPHYASLBLIST = -L$(SOPHYASLBP) -lsophya  $(SOPBASELIBS)
SOPHYAEXTSLBLIST = -L$(SOPHYASLBP) -lextsophya -lsophya $(SOPEXTLIBS) $(SOPBASELIBS)
SOPHYAALLSLBLIST = -L$(SOPHYASLBP) -lPI -lextsophya -lsophya $(PILIBS) $(SOPEXTLIBS) $(SOPBASELIBS)

#  Commande de link pour creation d'executables
CXXLINK = $(CXX) $(CXXFLAGS) -bind_at_load
#  Commande de link pour creation de module pouvant etre charge dynamiquement
CXXDLL = $(CXX) $(CXXFLAGS) -bundle 
